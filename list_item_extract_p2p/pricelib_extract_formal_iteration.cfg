[DEFAULT]
workspace = /home/shilei/fbpmx/list_extract/pricelib_extract_formal_iteration_${date}

[project]
actions = generate, evaluate, run
datasets = price_library_data, price_library_last_train, price_library_last_test
evaluators = pricelib_element_model_evaluate
stages = price_library_last_merge_export

###############################

[dataset_raw_price_library_data]
class = ReadExcelDataset
dir = /home/shilei/corpus/cost_split/分包指导价数据集.xlsx
header_row = 0


[dataset_price_library_data]
class = MapDataset
input = raw_price_library_data
expression = exec('import re; import uuid') or {"item_id": uuid.uuid3(uuid.NAMESPACE_DNS, str(x["清单id"])).hex,
    "list_key": str(x["清单id"]),
    "item_name": x["清单名称"],
    "item_feature": x["清单特征"],
    "upper_item_name": x["上级名称"],
    "pid": str(x["工程id"]),
    "item_name_wk": f'清单名称: {x["清单名称"]}' if x["清单名称"] is not None else "",
    "item_feature_wk": f'清单特征: {x["清单特征"]}' if x["清单特征"] is not None else "",
    "upper_item_name_wk": f'全路径: {x["上级名称"]}' if x["上级名称"] is not None else "",
    "element_label": list(sorted(x["构件预期修改"].split(","))) if x["构件预期修改"] is not None and len(x["构件预期修改"])>0 else list(sorted(x["构件预期"].split(","))) if x["构件预期"] is not None and len(x["构件预期"])>0 else [],
    "material_label": list(sorted(x["材料预期修改"].split(","))) if x["材料预期修改"] is not None and len(x["材料预期修改"])>0 else list(sorted(x["材料预期"].split(","))) if x["材料预期"] is not None and len(x["材料预期"])>0 else [],
    }
keep_exists = True


[dataset_price_library_last_train]
class = FilterDataset
input = price_library_data
filters = ("pid" in x) and ( ( x["pid"] in ["指导价验证集-2", "y分包指导价清单", "101-150_43", "201-300_2", "801-900_22", "9-安装"] ) or ( x["pid"] in ["中建二局华东指导价", "验证集指导价-1-50_22", "验证集指导价-1-50_43", "验证集指导价-1-50_7", "验证集指导价-101-150_2", "验证集指导价-151-200_1", "验证集指导价-151-200_15", "验证集指导价-151-200_23", "验证集指导价-151-200_3", "验证集指导价-201-300_10", "验证集指导价-201-300_5", "验证集指导价-501-600_70", "验证集指导价-501-600_83", "验证集指导价-501-600_87", "验证集指导价-51-100_33", "验证集指导价-51-100_36", "验证集指导价-601-700_29", "验证集指导价-701-800_43", "验证集指导价-701-800_55", "验证集指导价-701-800_63", "验证集指导价-801-900_92", "验证集指导价-901-1000_64", "验证集指导价-901-1000_67", "验证集指导价1-1-50_22", "验证集指导价1-1-50_43", "验证集指导价1-1-50_7", "验证集指导价1-101-150_2", "验证集指导价1-151-200_1", "验证集指导价1-151-200_15", "验证集指导价1-151-200_23", "验证集指导价1-151-200_3", "验证集指导价1-201-300_10", "验证集指导价1-201-300_5", "验证集指导价1-501-600_70", "验证集指导价1-501-600_83", "验证集指导价1-501-600_87", "验证集指导价1-51-100_33", "验证集指导价1-51-100_36", "验证集指导价1-601-700_29", "验证集指导价1-701-800_43", "验证集指导价1-701-800_55", "验证集指导价1-701-800_63", "验证集指导价1-801-900_92", "验证集指导价1-901-1000_64", "验证集指导价1-901-1000_67"] and int(x["item_id"][-5:],16) % 10 >= 2 ) )

[dataset_price_library_last_test]
class = FilterDataset
input = price_library_data
filters = ("pid" in x) and ( ( x["pid"] in ["云南建投全量数据0826", "指导价验证数据集_0814", "1", "中化学指导价", "（101-150）7++", "（101-150）9++", "邢台路桥指导价"] ) or (x["pid"] in ["02-中化学-全专业", "03-中建二局华东-土建", "04-邢台路桥-土建", "05-中交一公局北京建筑-土建", "06-中铁七局武汉土建+市政", "07-安徽十七冶-土建路桥", "08-一冶-土建", "09-天健建工", "10-湖北交投-土建市政", "11-水电九局"]) or (x["pid"] in ["12-中铁建工五建", "13-兴泰建设-土建", "15-十五局五-土建安装", "16-中铁十一电务", "17-中铁二十五局-土建基建", "18-中铁建工深圳-土建", "19-中铁建工北京-土建", "21-中铁建工西南-土建", "24-贵州省建设-上寨-土建", "24-贵州省建设-土建安装", "26-亚泰建筑"]) or (x["pid"] in ["中建二局华东指导价", "验证集指导价-1-50_22", "验证集指导价-1-50_43", "验证集指导价-1-50_7", "验证集指导价-101-150_2", "验证集指导价-151-200_1", "验证集指导价-151-200_15", "验证集指导价-151-200_23", "验证集指导价-151-200_3", "验证集指导价-201-300_10", "验证集指导价-201-300_5", "验证集指导价-501-600_70", "验证集指导价-501-600_83", "验证集指导价-501-600_87", "验证集指导价-51-100_33", "验证集指导价-51-100_36", "验证集指导价-601-700_29", "验证集指导价-701-800_43", "验证集指导价-701-800_55", "验证集指导价-701-800_63", "验证集指导价-801-900_92", "验证集指导价-901-1000_64", "验证集指导价-901-1000_67", "验证集指导价1-1-50_22", "验证集指导价1-1-50_43", "验证集指导价1-1-50_7", "验证集指导价1-101-150_2", "验证集指导价1-151-200_1", "验证集指导价1-151-200_15", "验证集指导价1-151-200_23", "验证集指导价1-151-200_3", "验证集指导价1-201-300_10", "验证集指导价1-201-300_5", "验证集指导价1-501-600_70", "验证集指导价1-501-600_83", "验证集指导价1-501-600_87", "验证集指导价1-51-100_33", "验证集指导价1-51-100_36", "验证集指导价1-601-700_29", "验证集指导价1-701-800_43", "验证集指导价1-701-800_55", "验证集指导价1-701-800_63", "验证集指导价1-801-900_92", "验证集指导价1-901-1000_64", "验证集指导价1-901-1000_67"] and int(x["item_id"][-5:],16) % 10 < 2 ) )


[dataset_price_library_last_merge]
class = MergeDataset
datasets = price_library_last_train, price_library_last_test


[stage_price_library_last_merge_export]
class = DatasetExportStage
dataset = price_library_last_merge
output_fields = pid, list_key, item_id
output_names = 工程id, 清单id, item_id
save_res_path = /home/shilei/fbpmx/list_extract/pricelib_extract_formal_iteration_${date}/price_library_last_merge_export_${date}.xlsx


[model_pricelib_model]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 5.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 128
max_seq_length = 128
re_predict = True


[model_pricelib_model2]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 5.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 128
max_seq_length = 128
re_predict = True

[model_pricelib_model3]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 2.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 128
max_seq_length = 128
re_predict = True

[model_pricelib_model4]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 2.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 128
max_seq_length = 128
re_predict = True


[model_pricelib_model5]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 5.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 256
max_seq_length = 128
re_predict = True

[model_pricelib_model6]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 5.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 256
max_seq_length = 128
re_predict = True

[model_pricelib_model7]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 2.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 256
max_seq_length = 128
re_predict = True


[model_pricelib_model8]
class = MultiHeadMultiLabelClassificationModel
data = price_library_last_train
bert_base = /home/shilei/fbpmx/list_extract/list_extract_analysis_for_gtj_fixlabel_element_20241203/model_GTJ_formal_extract_model_fixed8/model
text_key = item_name_wk
extra_feats = upper_item_name_wk, item_feature_wk
labels_delimeter = |
label_key = "构件": "element_label"
labels = "构件"::"地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙"
num_labels = 1
learning_rate = 2.0e-5
num_epochs = 300
train_ratio = 0.85
batch_size = 256
max_seq_length = 128
re_predict = True


[model_pricelib_element_model]
class = CalculateModel
models = pricelib_model
expression = pricelib_model["构件"]
re_predict = True

[model_pricelib_element_model2]
class = CalculateModel
models = pricelib_model2
expression = pricelib_model2["构件"]
re_predict = True

[model_pricelib_element_model3]
class = CalculateModel
models = pricelib_model3
expression = pricelib_model3["构件"]
re_predict = True

[model_pricelib_element_model4]
class = CalculateModel
models = pricelib_model4
expression = pricelib_model4["构件"]
re_predict = True


[model_pricelib_element_model5]
class = CalculateModel
models = pricelib_model5
expression = pricelib_model5["构件"]
re_predict = True

[model_pricelib_element_model6]
class = CalculateModel
models = pricelib_model6
expression = pricelib_model6["构件"]
re_predict = True

[model_pricelib_element_model7]
class = CalculateModel
models = pricelib_model7
expression = pricelib_model7["构件"]
re_predict = True

[model_pricelib_element_model8]
class = CalculateModel
models = pricelib_model8
expression = pricelib_model8["构件"]
re_predict = True


[evaluator_pricelib_element_model_evaluate]
class= MultiLabelClassificationTBEvaluator
dataset = price_library_last_test
models = pricelib_element_model, pricelib_element_model2, pricelib_element_model3, pricelib_element_model4, pricelib_element_model5,pricelib_element_model6,pricelib_element_model7,pricelib_element_model8
categories = 地形|道路|场地|降水井|土石方|支撑架|基坑围护|桩|砖砌挖孔桩护壁|基坑支护|地堰|花架|挡鼠板|坐凳|脚手架|竖井|车位|幕墙|屋面|消防水池|走道|地沟|采光顶|蓄水池|油池|门窗|泥浆池|止水帷幕|屋架|台阶|栏杆扶手|散水|组合栏板扶手|阳台|设备基础|挑耳|衰变池|泛水|吸水槽|地下连续墙导墙|飘窗|老虎窗|压顶|汽车坡道|防水导墙|无障碍坡道|墙|成孔芯模|空挡|板|结构缝|排水沟|基础|后浇带|洞口|梁|组合结构墙|楼梯|栏板|保温墙|挑檐板|地基|墙垛|后塞口|雨篷|暗柱|柱|斜杆|变形缝|水簸箕|隅撑|栓钉|钢柱|钢梁|钢板|钢架|钢檩条|钢拉索|钢结构连接节点|钢楼梯|钢门柱|钢窗柱|钢平台|钢墙架|设备钢支座|牛腿|桩尖|爬梯|组合结构柱|组合结构梁|组合结构楼板|车棚|楼地面|踢脚线|装饰成品构件|固定脚套|墙面|钢板墙板|墙裙|天棚|装饰线条|护角|地台|建筑地坪|场地地形|土方|石方|边桩|钢节点|支护桩|支撑梁|钢格构柱|钢支撑|桩间挂网|护坡|斜支撑|地下连续墙|电梯井|楼梯井|车挡|屋面变形缝|女儿墙|排水板|反檐|垃圾道、通风道、烟道|走道板|门|卷帘动力装置|窗|窗台板|门联窗|门套、窗套|门框|栏杆|扶手|预制阳台|砖胎膜|预制飘窗|结构墙|挡土墙|人防门框墙|钢墙|隔墙|砌体墙|挡水墙|预制墙|现浇板|盖板|预制板|构造板|凸窗侧板|钢板楼板|板缝|褥垫层|基础梁|集水坑|垫层|筏板基础|条形基础|独立基础|桩承台|桩基|板洞|墙洞|壁龛|门窗洞口|检修口|灯孔|结构梁|连梁|过梁|圈梁|构造梁|梁加腋|暗梁|预制梁|预制过梁|直形梯段|螺旋梯段|预制楼梯|天然地基|换填地基|预制雨篷|结构柱|构造柱|柱墩|柱帽|柱脚|砌体柱|预制柱|实腹钢梁|翼缘板|钢屋架|钢网架|钢桁架|钢托架|楼地面变形缝|过门石|固定件|内墙面|外墙面|墙面变形缝|柱面|吊顶|梁面|余方|钢桩|土钉墙|锚杆(锚索)|垃圾道|通风道|烟道|沟盖板|井盖板|井圈|电梯坑|桩头|桩端|门洞口|窗洞口|抱框柱|内墙裙|外墙裙|GFRP土钉|截水沟|电缆沟|围墙
categories_delimeter = |
label_key = element_label
save_res_path = /home/shilei/fbpmx/list_extract/pricelib_extract_formal_iteration_${date}/pricelib_element_model_evaluate_${date}.xlsx
